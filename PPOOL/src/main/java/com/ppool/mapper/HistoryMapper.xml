<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-Mapper.dtd">

<mapper namespace="com.ppool.mapper.HistoryMapper">
	<insert id="insertHistory" parameterType="int">
		<selectKey keyProperty="subjectRegisterCode" order="AFTER" resultType="int" >
			SELECT HISTORYNO_SEQUENCE.currval FROM DUAL
		</selectKey>	
		INSERT INTO	
		HISTORY(HISTORYNO,HISTORYTITLE,HISTORYPERIOD,HISTORYSTAFF,HISTORYWORK,HISTORYCONTENT,HISTORYREGDATE,HISTORYOPENED,USERNO)
		VALUES(HISTORYNO_SEQUENCE.NEXTVAL,#{HISTORYTITLE},)
	</insert>
	
</mapper>